<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>PlayTrackr</title>

  <!-- Meta for PWA-like experience -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#007acc">

<link rel="stylesheet" href="css/style.css">

</head>
<body>

  <!-- Settings Toggle -->
  <button class="settings-toggle" aria-label="Open settings" onclick="toggleSettings()">‚öôÔ∏è</button>

  <!-- Settings Panel -->
  <aside class="settings-panel" id="settingsPanel" aria-label="Settings Panel">
    <h2>Settings</h2>
    <ul class="settings-list">
      <li class="settings-item">
        <label for="darkModeToggle">Dark Mode</label>
        <button id="darkModeToggle" onclick="toggleDarkMode()" aria-pressed="false">üåô</button>
      </li>
      <li class="settings-item">
        <label for="resetScoresBtn">Reset Scores</label>
        <button id="resetScoresBtn" onclick="resetScores()">Reset</button>
      </li>
      <li class="settings-item">
        <label for="exitToHomeBtn">Exit to Home</label>
        <button id="exitToHomeBtn" onclick="exitToHome()">Exit</button>
      </li>
      <li class="settings-item">
        <label for="scoreIncrementSelect">Score Tap Amount</label>
        <select id="scoreIncrementSelect" aria-label="Score increment">
          <option value="1">1</option>
          <option value="3">3</option>
          <option value="5" selected>5</option>
        </select>
      </li>
      <li class="settings-item">
        <label for="toggle-wake-lock">Keep screen awake</label>
        <input type="checkbox" id="toggle-wake-lock">
      </li>
    </ul>
  </aside>

  <!-- Home Screen -->
  <main class="home" id="home">
    <h1>PlayTrackr</h1>
    <input id="name1" placeholder="Player A Name" />
    <input id="name2" placeholder="Player B / Deck Name" />
    <input id="target1" type="number" placeholder="Player A Target (default 300)" />
    <input id="target2" type="number" placeholder="Player B / Deck Target (default 300/350)" />
    <select id="increment">
      <option value="5" selected>+5 per tap</option>
      <option value="3">+3 per tap</option>
      <option value="1">+1 per tap</option>
    </select>
    <button onclick="startGame('solo')">Solo Play</button>
    <button onclick="startGame('duel')">Duel Play</button>
    <button id="historyBtn">üèÜ History</button>
  </main>

  <!-- Game Screen -->
  <section id="game" class="scoreboard hidden">
    <div id="player1" class="player" onclick="addScore('player1')" tabindex="0">
      <div class="name" id="nameDisplay1">Player A</div>
      <div class="score" id="score1">0</div>
      <button class="undo" onclick="event.stopPropagation(); undo('player1')">Undo</button>
    </div>
    <div id="player2" class="player" onclick="addScore('player2')" tabindex="0">
      <div class="name" id="nameDisplay2">Player B</div>
      <div class="score" id="score2">0</div>
      <button class="undo" onclick="event.stopPropagation(); undo('player2')">Undo</button>
    </div>
  </section>

  <!-- Winner Modal -->
  <div id="modal" class="modal hidden" role="alertdialog" aria-modal="true">
    <div class="modal-content">
      <div id="modalTitle">Winner!</div>
      <div>
        <button id="playAgainBtn">Play Again</button>
        <button id="closeModalBtn">Close</button>
      </div>
    </div>
  </div>

  <!-- History Panel -->
  <aside id="historyPanel" class="hidden">
    <h3>Game History</h3>
    <select id="historyFilterSelect">
      <option value="all">All</option>
      <option value="solo">Solo</option>
      <option value="duel">Duel</option>
    </select>
    <div id="historyList"></div>
    <button id="closeHistoryBtn">Close</button>
  </aside>


<script src="js/app.js" defer></script>

<video id="stayAwakeVideo" loop playsinline muted style="display: none;">
  <source src="data:video/mp4;base64,AAAAHGZ0e...AA==" type="video/mp4">
</video>

</body>
</html>
